{"name": "Редактирование сотрудника", "status": "broken", "statusDetails": {"message": "KeyError: 'lastName'", "trace": "@allure.epic(\"X-clients\")\n    @allure.title(\"Редактирование сотрудника\")\n    @allure.description(\"Редактирование данных сотрудника\")\n    @allure.feature(\"Тест 2\")\n    @allure.severity(severity_level='normal')\n    def test_edit_employee():\n        with allure.step(\"DB: Создаем компанию и получаем его ID\"):\n            comp_id = db.create_company('Farit & Co', 'Company for tests')\n    \n        #Данные нового сотрудника\n        new_worker = {\n            \"first_name\": \"Sfrt\",\n            \"last_name\": \"Sham\",\n            \"middle_name\": \"\",\n            \"company_id\": comp_id,\n            \"email\": \"sfrt@mail.com\",\n            \"avatar_url\": \"\",\n            \"phone\": \"89182793824\",\n            \"birthdate\": \"1954/05/31\",\n            \"is_active\": True\n        }\n    \n        with allure.step(\"DB: Создаем нового сотрудника и получаем его ID\"):\n            empl_id = db.create_employee(new_worker)\n    \n        # Отредактируем данные сотрудника\n        edited_worker = {\n            \"first_name\": \"Фарит\",\n            \"last_name\": \"Шам\",\n            \"middle_name\": \"\",\n            \"company_id\": comp_id,\n            \"email\": \"sfrt@mail.com\",\n            \"avatar_url\": \"http://1c.ru\",\n            \"phone\": \"89182793824\",\n            \"birthdate\": \"1954/05/31\",\n            \"is_active\": True\n        }\n        with allure.step(\"DB: Редактируем данные сотрудника c id = {empl_id}\"):\n            db.edit_employee(empl_id, edited_worker)\n        #api.edit_employee(empl_id, edited_worker)\n    \n        with allure.step(\"DB: Получим данные сотрудника c id = {empl_id} из БД\"):\n            worker_db = db.get_employee_by_id(empl_id)\n    \n        with allure.step(\"API: Получаем сотрудника c id = {empl_id} через запрос по API\"):\n            worker_api = api.get_worker(empl_id)\n    \n        with allure.step(\"Удаляем введенного сотрудника c id = {empl_id}\"):\n            db.delete_employee(empl_id)\n    \n        with allure.step(\"Удаляем введенную компанию c id = {comp_id}\"):\n            db.delete_company(comp_id)\n    \n        with allure.step(\"Сравниваем данные\"):\n>           assert worker_api[\"lastName\"] == worker_db[\"last_name\"]\nE           KeyError: 'lastName'\n\ntests/test_x_clients.py:109: KeyError"}, "description": "Редактирование данных сотрудника", "steps": [{"name": "DB: Создаем компанию и получаем его ID", "status": "passed", "steps": [{"name": "Создание новой компании", "status": "passed", "parameters": [{"name": "comp_name", "value": "'Farit & Co'"}, {"name": "comp_descr", "value": "'Company for tests'"}], "start": 1723559522801, "stop": 1723559523622}], "start": 1723559522801, "stop": 1723559523622}, {"name": "DB: Создаем нового сотрудника и получаем его ID", "status": "passed", "steps": [{"name": "Создание новой сотрудника", "status": "passed", "parameters": [{"name": "new_worker", "value": "{'first_name': 'Sfrt', 'last_name': 'Sham', 'middle_name': '', 'company_id': None, 'email': 'sfrt@mail.com', 'avatar_url': '', 'phone': '89182793824', 'birthdate': '1954/05/31', 'is_active': True}"}], "start": 1723559523622, "stop": 1723559524432}], "start": 1723559523622, "stop": 1723559524432}, {"name": "DB: Редактируем данные сотрудника c id = {empl_id}", "status": "passed", "steps": [{"name": "Редактирование данных сотрудника", "status": "passed", "parameters": [{"name": "empl_id", "value": "None"}, {"name": "updated_data", "value": "{'first_name': 'Фарит', 'last_name': 'Шам', 'middle_name': '', 'company_id': None, 'email': 'sfrt@mail.com', 'avatar_url': 'http://1c.ru', 'phone': '89182793824', 'birthdate': '1954/05/31', 'is_active': True}"}], "start": 1723559524432, "stop": 1723559525273}], "start": 1723559524432, "stop": 1723559525273}, {"name": "DB: Получим данные сотрудника c id = {empl_id} из БД", "status": "passed", "steps": [{"name": "Получение сотрудника по ID=None", "status": "passed", "parameters": [{"name": "empl_id", "value": "None"}], "start": 1723559525273, "stop": 1723559526085}], "start": 1723559525273, "stop": 1723559526085}, {"name": "API: Получаем сотрудника c id = {empl_id} через запрос по API", "status": "passed", "steps": [{"name": "Получим сотрудника по ID = None", "status": "passed", "parameters": [{"name": "id", "value": "None"}], "start": 1723559526085, "stop": 1723559526443}], "start": 1723559526085, "stop": 1723559526443}, {"name": "Удаляем введенного сотрудника c id = {empl_id}", "status": "passed", "steps": [{"name": "Удаление сотрудника c ID = None", "status": "passed", "parameters": [{"name": "empl_id", "value": "None"}], "start": 1723559526443, "stop": 1723559527254}], "start": 1723559526443, "stop": 1723559527254}, {"name": "Удаляем введенную компанию c id = {comp_id}", "status": "passed", "steps": [{"name": "Удаление компании", "status": "passed", "parameters": [{"name": "comp_id", "value": "None"}], "start": 1723559527254, "stop": 1723559528134}], "start": 1723559527254, "stop": 1723559528134}, {"name": "Сравниваем данные", "status": "broken", "statusDetails": {"message": "KeyError: 'lastName'\n", "trace": "  File \"/home/sfrt/SkyPro_Projects/python_automation/Lesson_10/tests/test_x_clients.py\", line 109, in test_edit_employee\n    assert worker_api[\"lastName\"] == worker_db[\"last_name\"]\n"}, "start": 1723559528134, "stop": 1723559528134}], "attachments": [{"name": "stdout", "source": "2abde376-777e-445d-85e0-1d34b9c1fc78-attachment.txt", "type": "text/plain"}], "start": 1723559522801, "stop": 1723559528135, "uuid": "ecc5e9bf-6178-4d43-98a4-cf4a5c791736", "historyId": "591f3af87682370c0b52decff51ee8eb", "testCaseId": "591f3af87682370c0b52decff51ee8eb", "fullName": "tests.test_x_clients#test_edit_employee", "labels": [{"name": "severity", "value": "normal"}, {"name": "feature", "value": "Тест 2"}, {"name": "epic", "value": "X-clients"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_x_clients"}, {"name": "host", "value": "MyPC"}, {"name": "thread", "value": "95678-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_x_clients"}]}